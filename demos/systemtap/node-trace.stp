/**
 * A quick systemtap/dtrace script to print messages when MediaNodes are created/destroyed.
 */

probe begin {
    printf("Tracing started.\n")
}

probe phonon.node.create {
    printf("%s\n", probestr);
}

probe phonon.node.destroy {
    printf("%s\n", probestr);
}

probe phonon.media.newSource {
    printf("%s loaded new source %s\n", execname(), sourceName);
}

probe phonon.media.play {
    printf("%s is now playing %s\n", execname(), sourceName);
}

probe phonon.media.stop {
    printf("%s stopped playing %s\n", execname(), sourceName);
}

probe end {
    printf("Tracing stopped.\n")
}
